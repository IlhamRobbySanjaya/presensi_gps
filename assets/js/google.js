<script>
//map searchvar zoomVal = 13;

var latVal = 0.4603134;

var lngVal = 101.4183501;
function initMap() { //map picker var curpoint = new google.maps.LatLng(latVal,lngVal);
var gmapdata = new google.maps.Map(document.getElementById(‘map’), {      center: curpoint,      zoom: zoomVal,   mapTypeId: ‘roadmap’    });     var input = document.getElementById(‘searchMapInput’);    gmapdata.controls[google.maps.ControlPosition.TOP_LEFT].push(input);       var autocomplete = new google.maps.places.Autocomplete(input);    autocomplete.bindTo(‘bounds’, gmapdata);      var infowindow = new google.maps.InfoWindow();    var gmapmarker = new google.maps.Marker({        map: gmapdata, position: curpoint,        anchorPoint: new google.maps.Point(0, -29) /*,draggable:true*/    });
//listener map picker google.maps.event.addListener(gmapdata, ‘click’, function(event) { /* document.getElementById(‘lat-span’).innerHTML = event.latLng.lat().toFixed(6);        document.getElementById(‘lon-span’).innerHTML = event.latLng.lng().toFixed(6); */ document.getElementById(“lon”).value = event.latLng.lng().toFixed(6); document.getElementById(“lat”).value = event.latLng.lat().toFixed(6); gmapmarker.setPosition(event.latLng); if_gmap_updateInfoWindow(); }); google.maps.event.addListener(gmapmarker, ‘click’, function() { if_gmap_updateInfoWindow(); infoWindow.open(gmapdata, gmapmarker); }); /* document.getElementById(“lon”).value = lngVal; document.getElementById(“lat”).value = latVal; */   //listerner map search    autocomplete.addListener(‘place_changed’, function() {        infowindow.close();        gmapmarker.setVisible(false);        var place = autocomplete.getPlace();            /* If the place has a geometry, then present it on a map. */        if (place.geometry.viewport) {            gmapdata.fitBounds(place.geometry.viewport);        } else {            gmapdata.setCenter(place.geometry.location);            gmapdata.setZoom(zoomVal);        }        gmapmarker.setIcon(({            size: new google.maps.Size(71, 71),            origin: new google.maps.Point(0, 0),            anchor: new google.maps.Point(17, 34),            scaledSize: new google.maps.Size(35, 35)        }));        gmapmarker.setPosition(place.geometry.location);        gmapmarker.setVisible(true);              var address = ”;        if (place.address_components) {            address = [              (place.address_components[0] && place.address_components[0].short_name || ”),              (place.address_components[1] && place.address_components[1].short_name || ”),              (place.address_components[2] && place.address_components[2].short_name || ”)            ].join(‘ ‘);        } //jika a b /* if(clickedMap == 1){ dataLat = gmapmarker.getPosition().lat().toFixed(6); dataLng = gmapmarker.getPosition().lng().toFixed(6); }else{ dataLat = place.geometry.location.lat(); dataLng = place.geometry.location.lng(); } */ dataLat = place.geometry.location.lat(); dataLng = place.geometry.location.lng();        infowindow.setContent(‘<div><strong>’ + place.name + ‘</strong><br>’ + address +  ‘<!–<br>lat: ‘ + dataLat + ‘, Lng: ‘ +  dataLng + ‘–>’);        infowindow.open(gmapdata, gmapmarker);                /* Location details */ /*        document.getElementById(‘location-snap’).innerHTML = place.formatted_address;        document.getElementById(‘lat-span’).innerHTML = place.geometry.location.lat();        document.getElementById(‘lon-span’).innerHTML = place.geometry.location.lng(); */ document.getElementById(‘loc’).setAttribute(‘value’, place.formatted_address); document.getElementById(‘lat’).setAttribute(‘value’, place.geometry.location.lat()); document.getElementById(‘lon’).setAttribute(‘value’, place.geometry.location.lng());    });}

 

function if_gmap_updateInfoWindow(){ infoWindow.setContent(“Longitude: “+ gmapmarker.getPosition().lng().toFixed(6)+”<br>”+”Latitude: “+ gmapmarker.getPosition().lat().toFixed(6));}
</script>

<script src=”https://maps.googleapis.com/maps/api/js?key=API_KEY&libraries=places&callback=initMap” async defer></script>
</script>